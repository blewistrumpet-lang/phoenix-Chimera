cmake_minimum_required(VERSION 3.15)
project(PitchAudioQuality)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED YES)

# JUCE setup
add_subdirectory(/Users/Branden/JUCE JUCE)

# Add the test executable with only pitch-related engines
add_executable(test_pitch_audio_quality
    test_pitch_audio_quality.cpp
    PitchEngineFactory.cpp
    ../JUCE_Plugin/Source/PitchShifter.cpp
    ../JUCE_Plugin/Source/IntelligentHarmonizer.cpp
    ../JUCE_Plugin/Source/TapeEcho.cpp
    ../JUCE_Plugin/Source/DigitalDelay.cpp
    ../JUCE_Plugin/Source/MagneticDrumEcho.cpp
    ../JUCE_Plugin/Source/BucketBrigadeDelay.cpp
    ../JUCE_Plugin/Source/GranularCloud.cpp
    ../JUCE_Plugin/Source/PitchShiftFactory.cpp
    ../JUCE_Plugin/Source/SMBPitchShiftFixed.cpp
    ../JUCE_Plugin/Source/PhaseVocoderPitchShift.cpp
)

target_include_directories(test_pitch_audio_quality PRIVATE
    ../JUCE_Plugin/Source
    ../JUCE_Plugin/JuceLibraryCode
    ../JUCE_Plugin/Source/signalsmith-stretch
)

target_link_libraries(test_pitch_audio_quality PRIVATE
    juce::juce_audio_basics
    juce::juce_audio_processors
    juce::juce_core
    juce::juce_dsp
)

target_compile_definitions(test_pitch_audio_quality PRIVATE
    JUCE_STANDALONE_APPLICATION=1
    JUCE_USE_CURL=0
    JUCE_WEB_BROWSER=0
)
