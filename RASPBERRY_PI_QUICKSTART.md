# ChimeraPhoenix Raspberry Pi 5 Quickstart

## Hardware Confirmed
- **Model**: Raspberry Pi 5
- **RAM**: 8GB
- **Purpose**: Hardware prototype testing

## Deployment Steps

### 1. Prepare on Your Mac

```bash
cd /Users/Branden/branden/Project_Chimera_v3.0_Phoenix
chmod +x deploy_to_pi.sh
./deploy_to_pi.sh
```

This creates a deployment package at `pi_deployment/`

### 2. Transfer to Pi

**Option A - Network Transfer (if Pi is on WiFi/Ethernet):**
```bash
# From your Mac
rsync -avz --progress pi_deployment/ pi@raspberrypi.local:~/ChimeraPhoenix/
```

**Option B - USB/SD Card Transfer:**
1. Copy `pi_deployment/` to USB drive
2. On Pi: `cp -r /media/pi/DRIVE_NAME/pi_deployment ~/ChimeraPhoenix`

### 3. Build on Pi

```bash
# SSH into Pi or use direct terminal
ssh pi@raspberrypi.local

# Run setup script
cd ~/ChimeraPhoenix
chmod +x pi_setup.sh
./pi_setup.sh
```

**This will:**
- Install all dependencies (build tools, JUCE, JACK audio)
- Build Projucer
- Generate Linux Makefile from `.jucer` file
- Compile ChimeraPhoenix with ARM optimizations (`-march=native`)
- Create launcher script

**Build time**: ~10-20 minutes on Pi 5

### 4. Run ChimeraPhoenix

```bash
~/chimera_run.sh
```

Or manually:
```bash
# Start JACK audio server
jackd -R -dalsa -dhw:1 -r48000 -p512 -n3 &

# Launch plugin
cd ~/ChimeraPhoenix/JUCE_Plugin/Builds/LinuxMakefile/build
./ChimeraPhoenix
```

## Trinity AI Server

The plugin needs to connect to the Trinity AI server for preset generation.

**Recommended**: Run server on your Mac, Pi connects over network

On Mac:
```bash
cd AI_Server
python3 server_trinity_complete.py
```

Pi will connect to: `http://YOUR_MAC_IP:8000`

## Audio Configuration

### USB Audio Interface
```bash
# List audio devices
aplay -l

# Start JACK with USB interface (device hw:1)
jackd -R -dalsa -dhw:1 -r48000 -p512 -n3
```

### Headphone Jack (built-in)
```bash
jackd -R -dalsa -dhw:0 -r48000 -p512 -n3
```

## Troubleshooting

### Build Errors

**Missing dependencies:**
```bash
sudo apt update
sudo apt install -y build-essential libasound2-dev libjack-jackd2-dev
```

**JUCE not found:**
```bash
# Verify JUCE is at ~/JUCE
ls ~/JUCE/modules
```

### Audio Issues

**No sound output:**
```bash
# Test JACK connection
jack_lsp

# Restart JACK
pkill jackd
jackd -R -dalsa -dhw:1 -r48000 -p512 -n3 &
```

**Permission denied:**
```bash
sudo usermod -a -G audio $USER
# Log out and back in
```

### Trinity Connection

**Can't reach server:**
```bash
# Test connection from Pi
curl http://YOUR_MAC_IP:8000/health

# Check firewall on Mac
# System Preferences â†’ Security â†’ Firewall â†’ Allow port 8000
```

## Next Steps: Hardware Integration

See `HARDWARE_INTEGRATION_PLAN.md` for:
- GPIO controls (rotary encoders, buttons)
- OLED display integration
- Voice input (Whisper AI)
- Physical enclosure design
- Complete standalone hardware unit

## File Structure on Pi

```
~/ChimeraPhoenix/
â”œâ”€â”€ JUCE_Plugin/
â”‚   â”œâ”€â”€ Source/              # C++ source code
â”‚   â”œâ”€â”€ Builds/
â”‚   â”‚   â””â”€â”€ LinuxMakefile/   # Generated by Projucer
â”‚   â”‚       â””â”€â”€ build/
â”‚   â”‚           â””â”€â”€ ChimeraPhoenix  # Executable
â”‚   â””â”€â”€ ChimeraPhoenix.jucer
â”œâ”€â”€ AI_Server/               # Optional - can run on Mac instead
â””â”€â”€ pi_setup.sh

~/chimera_run.sh             # Launcher script
~/JUCE/                      # JUCE framework
```

## Performance Notes

**Pi 5 Specifications:**
- Quad-core Cortex-A76 @ 2.4GHz
- 8GB RAM
- Hardware: Excellent for real-time DSP
- Expected latency: <10ms with optimized buffer settings

**Compiler optimizations used:**
- `-march=native` - Pi 5 specific ARM instructions
- `-mtune=native` - Optimize for Pi 5 CPU
- `-O3` - Maximum optimization
- JACK enabled for low-latency audio

## Build Success Indicators

When `pi_setup.sh` completes successfully, you should see:
```
âœ… Build successful!
Binary location: ~/ChimeraPhoenix/JUCE_Plugin/Builds/LinuxMakefile/build/ChimeraPhoenix
ðŸŽ‰ Installation Complete!
```

Then test:
```bash
~/chimera_run.sh
```

Expected startup:
- JACK audio server starts
- ChimeraPhoenix GUI opens (if display connected)
- Ready to load presets or use Trinity AI
